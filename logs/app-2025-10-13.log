2025-10-13 13:30:55 [INFO] o.s.s..main [Thread-1] [wsServer] Creating WebSocket server...
2025-10-13 13:30:55 [INFO] o.s.s..main [Thread-1] [wsServer] WebSocket server instance created
2025-10-13 13:30:55 [INFO] o.s.s..main [Thread-1] [wsServer] WebSocket server setup complete
2025-10-13 13:30:55 [INFO] o.s.s..main [Thread-1] [mongo] MongoDB connected!
2025-10-13 13:30:55 [INFO] o.s.s..main [Thread-1] [MONGO] MongoDB connected
2025-10-13 13:30:55 [INFO] o.s.s..main [Thread-1] [POSTGRES] PostgreSQL connected
2025-10-13 13:30:55 [INFO] o.s.s..main [Thread-1] [HTTP_SERVER] Starting HTTP server...
2025-10-13 13:30:55 [INFO] o.s.s..main [Thread-1] [MAIN] CSMS Server fully initialized on port 8081
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/transactions; sending response: [object Object],[object Object],[object Object],[object Object],[object Object],[object Object]
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/stations; sending response: 
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/transactions; sending response: [object Object],[object Object],[object Object],[object Object]
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [StartTransaction] Started session with limits: type=full, value=100, tariff=0.1
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [StartTransaction] Start tx from CP-001: id 1760351486476, connector 1
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [UpdatedConnector] 1 for CP-001: Charging (transaction id: 1760351486476)
2025-10-13 13:31:26 [ERROR] o.s.s..main [Thread-1] [RemoteControl] No WebSocket for CP-001 — cannot send RemoteStartTransaction
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [RemoteStartTransaction] Sent to CP-001: idTag=user-123, connectorId=1, startValue=0
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [API] Start-session initiated for CP-001, connector 1, limits: type=full, value=100
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/transactions; sending response: [object Object],[object Object],[object Object],[object Object],[object Object]
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/metrics/CP-001; sending response: [object Object]
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:26 [WARN] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/reserve" without required fields
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:26 [ERROR] o.s.s..main [Thread-1] [RemoteControl] No WebSocket for CP-001 — cannot send ReserveNow
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/reserve"; reserrved: CP-001 1 user-123}
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [API] stop-session received: transactionId=1760351486476, type=string
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [API] stop-session using transactionId as string: 1760351486476, type=string
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [StopTransaction] Processing request: transactionId=1760351486476, type=number
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [StopTransaction] Full request object: {"transactionId":1760351486476,"idTag":"user-123","meterStop":10000,"timestamp":"2025-10-13T10:31:26.524Z","reason":"Local"}
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [StopTransaction] About to find transaction with id: 1760351486476, type: number
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [StopTransaction] About to save tx with values: totalKWh=10, cost=1, efficiencyPercentage=24999999.999999996
2025-10-13 13:31:26 [ERROR] o.s.s..main [Thread-1] [StopTransaction] Error in StopTransaction: QueryFailedError: invalid input syntax for type integer: "24999999.999999996"
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:26 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/transactions; sending response: [object Object],[object Object],[object Object],[object Object],[object Object]
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/transactions; sending response: [object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/stations; sending response: CP-001,[object Map]
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/transactions; sending response: [object Object],[object Object],[object Object],[object Object],[object Object]
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [StartTransaction] Started session with limits: type=full, value=100, tariff=0.1
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [StartTransaction] Start tx from CP-001: id 1760351507078, connector 1
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [UpdatedConnector] 1 for CP-001: Charging (transaction id: 1760351507078)
2025-10-13 13:31:47 [ERROR] o.s.s..main [Thread-1] [RemoteControl] No WebSocket for CP-001 — cannot send RemoteStartTransaction
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [RemoteStartTransaction] Sent to CP-001: idTag=user-123, connectorId=1, startValue=0
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [API] Start-session initiated for CP-001, connector 1, limits: type=full, value=100
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/transactions; sending response: [object Object],[object Object],[object Object],[object Object],[object Object],[object Object]
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/metrics/CP-001; sending response: [object Object]
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:47 [WARN] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/reserve" without required fields
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:47 [ERROR] o.s.s..main [Thread-1] [RemoteControl] No WebSocket for CP-001 — cannot send ReserveNow
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/reserve"; reserrved: CP-001 1 user-123}
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [API] stop-session received: transactionId=1760351507078, type=string
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [API] stop-session using transactionId as string: 1760351507078, type=string
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [StopTransaction] Processing request: transactionId=1760351507078, type=number
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [StopTransaction] Full request object: {"transactionId":1760351507078,"idTag":"user-123","meterStop":10000,"timestamp":"2025-10-13T10:31:47.094Z","reason":"Local"}
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [StopTransaction] About to find transaction with id: 1760351507078, type: number
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [StopTransaction] About to save tx with values: totalKWh=10, cost=1, efficiencyPercentage=74999999.99999999
2025-10-13 13:31:47 [ERROR] o.s.s..main [Thread-1] [StopTransaction] Error in StopTransaction: QueryFailedError: invalid input syntax for type integer: "74999999.99999999"
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:31:47 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/transactions; sending response: [object Object],[object Object],[object Object],[object Object],[object Object],[object Object]
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/transactions; sending response: [object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/stations; sending response: CP-001,[object Map]
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/transactions; sending response: [object Object],[object Object],[object Object],[object Object],[object Object],[object Object]
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [StartTransaction] Started session with limits: type=full, value=100, tariff=0.1
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [StartTransaction] Start tx from CP-001: id 1760351538053, connector 1
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [UpdatedConnector] 1 for CP-001: Charging (transaction id: 1760351538053)
2025-10-13 13:32:18 [ERROR] o.s.s..main [Thread-1] [RemoteControl] No WebSocket for CP-001 — cannot send RemoteStartTransaction
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [RemoteStartTransaction] Sent to CP-001: idTag=user-123, connectorId=1, startValue=0
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [API] Start-session initiated for CP-001, connector 1, limits: type=full, value=100
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/transactions; sending response: [object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/metrics/CP-001; sending response: [object Object]
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:32:18 [WARN] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/reserve" without required fields
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:32:18 [ERROR] o.s.s..main [Thread-1] [RemoteControl] No WebSocket for CP-001 — cannot send ReserveNow
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/reserve"; reserrved: CP-001 1 user-123}
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [API] stop-session received: transactionId=1760351538053, type=string
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [API] stop-session using transactionId as string: 1760351538053, type=string
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [StopTransaction] Processing request: transactionId=1760351538053, type=number
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [StopTransaction] Full request object: {"transactionId":1760351538053,"idTag":"user-123","meterStop":10000,"timestamp":"2025-10-13T10:32:18.068Z","reason":"Local"}
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [StopTransaction] About to find transaction with id: 1760351538053, type: number
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [StopTransaction] About to save tx with values: totalKWh=10, cost=1, efficiencyPercentage=80000000
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [StopTransaction] Stop tx from CP-001: id 1760351538053, totalKWh=10.00, cost=1.00 EUR, efficiency=80000000.0%, reason: Local, connector: 1
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [UpdatedConnector] 1 for CP-001: Finishing
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:32:18 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/transactions; sending response: [object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]
2025-10-13 13:32:20 [INFO] o.s.s..main [Thread-1] [UpdatedConnector] 1 for CP-001: Available
2025-10-13 13:32:20 [INFO] o.s.s..main [Thread-1] [StopTransaction] Connector 1 on CP-001 reset to Available
2025-10-13 13:39:10 [INFO] o.s.s..main [Thread-1] [SHUTDOWN] Received SIGINT. Initiating graceful shutdown...
2025-10-13 13:40:15 [INFO] o.s.s..main [Thread-1] [wsServer] Creating WebSocket server...
2025-10-13 13:40:15 [INFO] o.s.s..main [Thread-1] [wsServer] WebSocket server instance created
2025-10-13 13:40:15 [INFO] o.s.s..main [Thread-1] [wsServer] WebSocket server setup complete
2025-10-13 13:40:15 [INFO] o.s.s..main [Thread-1] [mongo] MongoDB connected!
2025-10-13 13:40:15 [INFO] o.s.s..main [Thread-1] [MONGO] MongoDB connected
2025-10-13 13:40:15 [INFO] o.s.s..main [Thread-1] [POSTGRES] PostgreSQL connected
2025-10-13 13:40:15 [INFO] o.s.s..main [Thread-1] [HTTP_SERVER] Starting HTTP server...
2025-10-13 13:40:15 [INFO] o.s.s..main [Thread-1] [MAIN] CSMS Server fully initialized on port 8081
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/transactions; sending response: [{"id":"1760351538053","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-13T10:32:18.053Z","stopTime":"2025-10-13T10:32:18.068Z","meterStart":0,"meterStop":10000,"energy":null,"totalKWh":10,"cost":1,"efficiencyPercentage":80000000,"idTag":"user-123","reason":"Local","transactionData":[]},{"id":"1760351507078","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-13T10:31:47.078Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760351486476","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-13T10:31:26.476Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760301183706","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-12T20:33:03.706Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760301167575","chargePointId":"CP_TEST","connectorId":1,"startTime":"2025-10-12T20:32:47.572Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"USER_123","reason":null,"transactionData":null},{"id":"1760300844875","chargePointId":"CP_TEST","connectorId":1,"startTime":"2025-10-12T20:27:24.872Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"USER_123","reason":null,"transactionData":null},{"id":"1760300836509","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-12T20:27:16.509Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760300804181","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-12T20:26:44.181Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760300761783","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-12T20:26:01.783Z","stopTime":"2025-10-12T20:26:01.813Z","meterStart":0,"meterStop":10000,"energy":null,"totalKWh":10,"cost":1,"efficiencyPercentage":40000000,"idTag":"user-123","reason":"Local","transactionData":[]}]
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/stations; sending response: 
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/transactions; sending response: [{"id":"1760351538053","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-13T10:32:18.053Z","stopTime":"2025-10-13T10:32:18.068Z","meterStart":0,"meterStop":10000,"energy":null,"totalKWh":10,"cost":1,"efficiencyPercentage":80000000,"idTag":"user-123","reason":"Local","transactionData":[]},{"id":"1760351507078","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-13T10:31:47.078Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760351486476","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-13T10:31:26.476Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760301183706","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-12T20:33:03.706Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760300836509","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-12T20:27:16.509Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760300804181","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-12T20:26:44.181Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760300761783","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-12T20:26:01.783Z","stopTime":"2025-10-12T20:26:01.813Z","meterStart":0,"meterStop":10000,"energy":null,"totalKWh":10,"cost":1,"efficiencyPercentage":40000000,"idTag":"user-123","reason":"Local","transactionData":[]}]
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [StartTransaction] Started session with limits: type=full, value=100, tariff=0.1
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [StartTransaction] Start tx from CP-001: id 1760352064924, connector 1
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [UpdatedConnector] 1 for CP-001: Charging (transaction id: 1760352064924)
2025-10-13 13:41:04 [ERROR] o.s.s..main [Thread-1] [RemoteControl] No WebSocket for CP-001 — cannot send RemoteStartTransaction
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [RemoteStartTransaction] Sent to CP-001: idTag=user-123, connectorId=1, startValue=0
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [API] Start-session initiated for CP-001, connector 1, limits: type=full, value=100
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/transactions; sending response: [{"id":"1760352064924","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-13T10:41:04.924Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760351538053","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-13T10:32:18.053Z","stopTime":"2025-10-13T10:32:18.068Z","meterStart":0,"meterStop":10000,"energy":null,"totalKWh":10,"cost":1,"efficiencyPercentage":80000000,"idTag":"user-123","reason":"Local","transactionData":[]},{"id":"1760351507078","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-13T10:31:47.078Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760351486476","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-13T10:31:26.476Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760301183706","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-12T20:33:03.706Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760300836509","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-12T20:27:16.509Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760300804181","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-12T20:26:44.181Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760300761783","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-12T20:26:01.783Z","stopTime":"2025-10-12T20:26:01.813Z","meterStart":0,"meterStop":10000,"energy":null,"totalKWh":10,"cost":1,"efficiencyPercentage":40000000,"idTag":"user-123","reason":"Local","transactionData":[]}]
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/metrics/CP-001; sending response: [object Object]
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:41:04 [WARN] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/reserve" without required fields
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:41:04 [ERROR] o.s.s..main [Thread-1] [RemoteControl] No WebSocket for CP-001 — cannot send ReserveNow
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/reserve"; reserrved: CP-001 1 user-123}
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [API] stop-session received: transactionId=1760352064924, type=string
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [API] stop-session using transactionId as string: 1760352064924, type=string
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [StopTransaction] Processing request: transactionId=1760352064924, type=number
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [StopTransaction] Full request object: {"transactionId":1760352064924,"idTag":"user-123","meterStop":10000,"timestamp":"2025-10-13T10:41:04.962Z","reason":"Local"}
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [StopTransaction] About to find transaction with id: 1760352064924, type: number
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [StopTransaction] About to save tx with values: totalKWh=10, cost=1, efficiencyPercentage=31578947.36842105
2025-10-13 13:41:04 [ERROR] o.s.s..main [Thread-1] [StopTransaction] Error in StopTransaction: QueryFailedError: invalid input syntax for type integer: "31578947.36842105"
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 13:41:04 [INFO] o.s.s..main [Thread-1] [httpHandlers], request method GET on "/api/transactions; sending response: [{"id":"1760352064924","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-13T10:41:04.924Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760351538053","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-13T10:32:18.053Z","stopTime":"2025-10-13T10:32:18.068Z","meterStart":0,"meterStop":10000,"energy":null,"totalKWh":10,"cost":1,"efficiencyPercentage":80000000,"idTag":"user-123","reason":"Local","transactionData":[]},{"id":"1760351507078","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-13T10:31:47.078Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760351486476","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-13T10:31:26.476Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760301183706","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-12T20:33:03.706Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760300836509","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-12T20:27:16.509Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760300804181","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-12T20:26:44.181Z","stopTime":null,"meterStart":0,"meterStop":null,"energy":null,"totalKWh":null,"cost":null,"efficiencyPercentage":null,"idTag":"user-123","reason":null,"transactionData":null},{"id":"1760300761783","chargePointId":"CP-001","connectorId":1,"startTime":"2025-10-12T20:26:01.783Z","stopTime":"2025-10-12T20:26:01.813Z","meterStart":0,"meterStop":10000,"energy":null,"totalKWh":10,"cost":1,"efficiencyPercentage":40000000,"idTag":"user-123","reason":"Local","transactionData":[]}]
2025-10-13 13:41:48 [INFO] o.s.s..main [Thread-1] [SHUTDOWN] Received SIGINT. Initiating graceful shutdown...
2025-10-13 14:00:35 [INFO] o.s.s..main [Thread-1] [wsServer] Creating WebSocket server...
2025-10-13 14:00:35 [INFO] o.s.s..main [Thread-1] [wsServer] WebSocket server instance created
2025-10-13 14:00:35 [INFO] o.s.s..main [Thread-1] [wsServer] WebSocket server setup complete
2025-10-13 14:00:35 [INFO] o.s.s..main [Thread-1] [mongo] MongoDB connected!
2025-10-13 14:00:35 [INFO] o.s.s..main [Thread-1] [MONGO] MongoDB connected
2025-10-13 14:00:35 [INFO] o.s.s..main [Thread-1] [POSTGRES] PostgreSQL connected
2025-10-13 14:00:35 [INFO] o.s.s..main [Thread-1] [HTTP_SERVER] Starting HTTP server...
2025-10-13 14:00:35 [INFO] o.s.s..main [Thread-1] [MAIN] CSMS Server fully initialized on port 8081
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] GET /api/transactions; response size=10
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] GET /api/stations; response: []...
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] GET /api/transactions; response size=8
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [StartTransaction] Started session with limits: type=full, value=100, tariff=0.1
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [StartTransaction] Start tx from CP-001: id 1760353252506, connector 1
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [UpdatedConnector] 1 for CP-001: Charging (transaction id: 1760353252506)
2025-10-13 14:00:52 [ERROR] o.s.s..main [Thread-1] [RemoteControl] No WebSocket for CP-001 — cannot send RemoteStartTransaction
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [RemoteStartTransaction] Sent to CP-001: idTag=user-123, connectorId=1, startValue=0
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [API] Start-session initiated for CP-001, connector 1, limits: type=full, value=100
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] GET /api/transactions; response size=9
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] GET /api/metrics/CP-001; response: {"totalKWh":10,"cost":1}
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 14:00:52 [WARN] o.s.s..main [Thread-1] [httpHandlers] POST /api/reserve missing required fields
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 14:00:52 [ERROR] o.s.s..main [Thread-1] [RemoteControl] No WebSocket for CP-001 — cannot send ReserveNow
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] POST /api/reserve; reserved: CP-001 1 user-123
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [API] stop-session received: transactionId=1760353252506, type=string
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [API] stop-session using transactionId as string: 1760353252506, type=string
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [StopTransaction] Processing request: transactionId=1760353252506, type=number
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [StopTransaction] Full request object: {"transactionId":1760353252506,"idTag":"user-123","meterStop":10000,"timestamp":"2025-10-13T11:00:52.541Z","reason":"Local"}
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [StopTransaction] About to find transaction with id: 1760353252506, type: number
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [StopTransaction] About to save tx with values: totalKWh=10, cost=1, efficiencyPercentage=100
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [StopTransaction] Stop tx from CP-001: id 1760353252506, totalKWh=10.00, cost=1.00 EUR, efficiency=100.0%, reason: Local, connector: 1
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [UpdatedConnector] 1 for CP-001: Finishing
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [index API] httpServer is created
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] Access-Control allow methods : GET, POST; allow headers Content-Type, Authorization
2025-10-13 14:00:52 [INFO] o.s.s..main [Thread-1] [httpHandlers] GET /api/transactions; response size=9
2025-10-13 14:00:54 [INFO] o.s.s..main [Thread-1] [UpdatedConnector] 1 for CP-001: Available
2025-10-13 14:00:54 [INFO] o.s.s..main [Thread-1] [StopTransaction] Connector 1 on CP-001 reset to Available
2025-10-13 14:01:17 [INFO] o.s.s..main [Thread-1] [SHUTDOWN] Received SIGINT. Initiating graceful shutdown...
